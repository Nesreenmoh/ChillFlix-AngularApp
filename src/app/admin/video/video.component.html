<app-sidebar></app-sidebar>
<div class="container-fluid mt-3 bg-dark text-light">
  <!-- Search form -->
  <h2 class="text-center pt-4">Add Videos to Chillflix Channel</h2>
  <div class="pt-3 text-light">
    <form>
      <div class="form-group row">
        <label for="" class="col-lg-2 col-form-label h4"> Keyword </label>
        <div class="col-sm-10">
          <input
            type="text"
            class="form-control form-control-lg"
            placeholder="Keyword to Search"
            name="keyword"
            [(ngModel)]="keyword"
            required
          />
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-10 offset-sm-2">
          <button type="button" (click)="keyUp()" class="btn btn-danger btn-lg">Search</button>
        </div>
      </div>
      <div *ngIf="flag">
        <div class="form-group row pb-4">
          <label for="" class="col-sm-2 col-form-label h4">Category</label>
          <div class="col-sm-10">
            <select
              class="form-control"
              id="videoCategory"
              name="assignCategory"
              [(ngModel)]="selectedCategory"
              (change)="onCategorysSelected($event)"
            >
              <option *ngFor="let category of myCategory" [value]="category.id" [attr.name]="category.name" selected
                >{{ category.name }}
              </option>
            </select>
          </div>
        </div>
        <div class="form-group row pb-4">
          <label for="" class="col-sm-2 col-form-label h4">Video Type</label>
          <div class="col-sm-10">
            <select class="form-control" id="videoType" name="videoType" [(ngModel)]="type">
              <option *ngFor="let mytype of types" [value]="mytype">{{ mytype }}</option>
            </select>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-10 offset-sm-2">
            <button type="button" (click)="addSelectedVideosToList()" class="btn btn-danger btn-lg mb-3">Add Movies</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
<div *ngIf="flag" class="myWrapper pl-3 justify-content-center align-center align-center">
  <div *ngFor="let video of videos" class="videoItem">
    <div class="border border-danger">
      <div class="embed-responsive embed-responsive-16by9">
        <iframe
          [src]="'https://www.youtube.com/embed/' + video.id.videoId | youtube: 'resourceUrl'"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-inpicture"
          width="540"
          height="315"
          allowfullscreen
        ></iframe>
      </div>
      <!-- <a href="https://www.youtube.com/watch?v={{ video.id.videoId }}" target="_blank">
      </a> -->
      <!-- <youtube-player videoId="{{ video.id.videoId }}" origin="*" width="250" height="300"></youtube-player> -->
    </div>
    <div class="justify-content-center align-center">
      <label class="h6 text-light"><input type="checkbox" name="mycheckbox" [value]="video.id.videoId" class="mr-1" /> Add video</label>
    </div>
  </div>
</div>
